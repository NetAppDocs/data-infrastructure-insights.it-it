---
sidebar: sidebar 
permalink: concept_log_explorer.html 
keywords: logs, monitors, alerts, EMS, 
summary: Log Explorer è uno strumento potente per analizzare i problemi tramite diversi registri di sistema. 
---
= Esploratore di log
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights Log Explorer è un potente strumento per interrogare i log di sistema.  Oltre ad agevolare le indagini, è anche possibile salvare una query di registro in un Monitor per ricevere avvisi quando vengono attivati ​​specifici trigger di registro.

Per iniziare a esplorare i log, fare clic su *Query log > +Nuova query log*.

Selezionare un registro disponibile dall'elenco.

image:LogExplorer_2022.png["Scegli il tuo registro"]


NOTE: I tipi di log disponibili per le query possono variare in base all'ambiente.  Nel tempo potrebbero essere aggiunti altri tipi di log.

È possibile impostare filtri per perfezionare ulteriormente i risultati della query.  Ad esempio, per trovare tutti i messaggi di registro che indicano un errore, impostare un filtro per i _Messaggi_ contenenti la parola "errore".


TIP: Puoi iniziare a digitare il testo desiderato nel campo filtro; Data Infrastructure Insights ti chiederà di creare una ricerca con caratteri jolly contenente la stringa mentre digiti.

I risultati vengono visualizzati in un grafico che mostra il numero di istanze di registro in ciascun periodo di tempo mostrato.  Sotto il grafico si trovano le voci di registro stesse.  Il grafico e le voci si aggiornano automaticamente in base all'intervallo di tempo selezionato.

image:LogExplorer_QueryForFailed.png["Esempio di query che mostra il filtro"]



== Filtraggio



=== Includi / Escludi

Quando si filtrano i log, è possibile scegliere di *includere* (ad esempio "Filtra per") o *escludere* le stringhe digitate.  Le stringhe escluse vengono visualizzate nel filtro completato come "NOT <stringa>".

image:Log_Advanced_Query_Filter_Exclude.png["Filtro registro che mostra l'opzione Escludi"]

I filtri basati su caratteri jolly o espressioni (ad esempio NOT, OR, "Nessuno", ecc.) vengono visualizzati in blu scuro nel campo filtro.  Gli elementi selezionati direttamente dall'elenco vengono visualizzati in azzurro.


NOTE: In qualsiasi momento puoi cliccare su _Crea un Log Monitor_ per creare un nuovo Monitor basato sul filtro corrente.



=== Filtraggio avanzato

Quando si filtrano valori di testo o di elenco in query o widget della dashboard, quando si inizia a digitare viene presentata l'opzione per creare un *filtro con caratteri jolly* in base al testo corrente.  Selezionando questa opzione verranno restituiti tutti i risultati che corrispondono all'espressione jolly.  È anche possibile creare espressioni utilizzando NOT, AND o OR, oppure selezionare l'opzione "Nessuno" per filtrare i valori nulli.


NOTE: Assicurati di salvare la tua query in anticipo e spesso mentre crei il tuo filtro.  Le query avanzate sono immissioni di stringhe "in formato libero" e potrebbero verificarsi errori di analisi durante la compilazione.

Diamo un'occhiata a questa immagine dello schermo che mostra i risultati filtrati per una query avanzata del registro _logs.kubernetes.event_.  In questa pagina succedono molte cose, come spiegato sotto l'immagine:

image:Log_Advanced_Query_ScreenExplained.png["Spiegazione della schermata di query avanzata"]

. Questa stringa di query avanzata filtra per quanto segue:
+
** Filtra le voci di registro con un _motivo_ che include la parola "failed", ma non nulla con il motivo specifico "FailedMount".
** Includere tutte le voci che includono anche un _metadata.namespace_ contenente la parola "monitoring", ma escludere gli spazi dei nomi specifici di "cm-monitoring" o "eg-monitoring".
+
Si noti che nel caso sopra, poiché sia "cm-monitoring" che "eg-monitoring" contengono un trattino ("-"), le stringhe devono essere racchiuse tra virgolette doppie, altrimenti verrà visualizzato un errore di analisi.  Le stringhe che non includono trattini, spazi, ecc. non devono essere racchiuse tra virgolette.  In caso di dubbi, prova a mettere la stringa tra virgolette.



. I risultati del filtro corrente, inclusi tutti i valori "Filtra per" E il filtro Query avanzata, vengono visualizzati nell'elenco dei risultati.  L'elenco può essere ordinato in base a qualsiasi colonna visualizzata.  Per visualizzare colonne aggiuntive, seleziona l'icona "ingranaggio".
. Il grafico è stato ingrandito per mostrare solo i risultati del log che si sono verificati in un intervallo di tempo specifico.  L'intervallo di tempo mostrato qui riflette il livello di zoom corrente.  Selezionare il pulsante _Reimposta zoom_ per ripristinare il livello di zoom all'intervallo di tempo corrente Data Infrastructure Insights .
. I risultati del grafico sono stati raggruppati in base al campo _source_.  Il grafico mostra i risultati in ogni colonna raggruppati per colore.  Passando il mouse su una colonna del grafico verranno visualizzati alcuni dettagli sulle voci specifiche.
+
image:Log_Advanced_Query_Group_Detail.png["Dettagli del passaggio del mouse raggruppati"]





==== Filtri di affinamento

Per affinare il filtro puoi usare quanto segue:

|===


| Filtro | Cosa fa 


| * (Asterisco) | ti permette di cercare tutto 


| ?  (punto interrogativo) | consente di cercare un numero specifico di caratteri 


| O | consente di specificare più entità 


| NON | consente di escludere il testo dai risultati della ricerca 


| _Nessuno_ | cerca valori NULL in tutti i campi 


| Non * | cerca valori NULL nei campi _solo testo_ 
|===
Se si racchiude una stringa di filtro tra virgolette doppie, Insight considera tutto ciò che si trova tra la prima e l'ultima virgoletta come una corrispondenza esatta.  Tutti i caratteri speciali o gli operatori all'interno delle virgolette verranno trattati come valori letterali.  Ad esempio, filtrando per "*" si otterranno risultati che sono un asterisco letterale; in questo caso l'asterisco non verrà trattato come un carattere jolly.  Anche gli operatori OR e NOT verranno trattati come stringhe letterali se racchiusi tra virgolette doppie.

È possibile combinare un filtro semplice con un filtro di query avanzato; il filtro risultante è un "AND" dei due.



=== La legenda del grafico

Anche la _Legend_ sotto il grafico riserva qualche sorpresa.  Per ogni risultato (in base al filtro corrente) mostrato nella Legenda, hai la possibilità di visualizzare solo i risultati per quella riga (Aggiungi filtro) oppure di visualizzare tutti i risultati NON per quella riga (Aggiungi filtro di esclusione).  Il grafico e l'elenco delle voci di registro vengono aggiornati per mostrare i risultati in base alla selezione effettuata.  Per rimuovere questo filtro, aprire nuovamente la Legenda e selezionare la [X] per cancellare il filtro basato sulla Legenda.

image:Log_Advanced_Query_Legend.png["Legenda query avanzata che mostra \"Aggiungi filtro\" per il primo risultato"]



== Dettagli del registro

Facendo clic in un punto qualsiasi di una voce del registro nell'elenco, si aprirà un riquadro dei dettagli per quella voce.  Qui puoi trovare maggiori informazioni sull'evento.

Fare clic su "Aggiungi filtro" per aggiungere il campo selezionato al filtro corrente.  L'elenco delle voci del registro verrà aggiornato in base al nuovo filtro.

Si noti che alcuni campi non possono essere aggiunti come filtri; in questi casi, l'icona _Aggiungi filtro_ non è disponibile.

image:LogExplorer_DetailPane.png["Riquadro dei dettagli delle voci di registro"]



== Risoluzione dei problemi

Qui troverete suggerimenti per la risoluzione dei problemi relativi alle query di registro.

|===


| *Problema:* | *Prova questo:* 


| Non vedo messaggi di "debug" nella mia query di registro | I messaggi del registro di debug non vengono raccolti.  Per acquisire i messaggi desiderati, modifica la gravità del messaggio in livello _informativo, errore, avviso, emergenza_ o _avviso_. 
|===