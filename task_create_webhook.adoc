---
sidebar: sidebar 
permalink: task_create_webhook.html 
keywords: webhook, notification, slack, integration 
summary: Creare monitor per ricevere avvisi sulle soglie di prestazioni o di inventario 
---
= Notifica tramite webhook
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
I webhook consentono agli utenti di inviare notifiche di avviso a varie applicazioni utilizzando un canale webhook personalizzato.

Molte applicazioni commerciali supportano i webhook come interfaccia di input standard, ad esempio: Slack, PagerDuty, Teams e Discord supportano tutti i webhook.  Grazie al supporto di un canale webhook generico e personalizzabile, Data Infrastructure Insights può supportare molti di questi canali di distribuzione.  Le informazioni sui webhook sono disponibili sui siti web di queste applicazioni.  Ad esempio, Slack forniscelink:https://api.slack.com/messaging/webhooks["questa guida utile"] .

È possibile creare più canali webhook, ognuno dei quali è destinato a uno scopo diverso: applicazioni separate, destinatari diversi, ecc.

L'istanza del canale webhook è composta dai seguenti elementi:

|===


| Nome | Nome univoco 


| URL | URL di destinazione del webhook, incluso il prefisso _http://_ o _https://_ insieme ai parametri URL 


| Metodo | GET, POST - Il valore predefinito è POST 


| Intestazione personalizzata | Specifica qui eventuali righe di intestazione personalizzate 


| Corpo del messaggio | Inserisci qui il corpo del tuo messaggio 


| Parametri di avviso predefiniti | Elenca i parametri predefiniti per il webhook 


| Parametri e segreti personalizzati | I parametri personalizzati e i segreti consentono di aggiungere parametri univoci ed elementi sicuri come le password 
|===


== Creazione di un webhook

Per creare un webhook Data Infrastructure Insights , vai su *Amministrazione > Notifiche* e seleziona la scheda *Webhook*.

L'immagine seguente mostra un esempio di webhook configurato per Slack:

image:Webhook_Example_Slack.png["Esempio di webhook"]

Inserisci le informazioni appropriate per ciascun campo e clicca su "Salva" al termine.

Puoi anche cliccare sul pulsante "Test Webhook" per testare la connessione.  Si noti che in questo modo verrà inviato il "Corpo del messaggio" (senza sostituzioni) all'URL definito in base al metodo selezionato.

I webhook di Data Infrastructure Insights comprendono una serie di parametri predefiniti.  Inoltre, puoi creare parametri o segreti personalizzati.

image:Webhook_Default_Parameters.png["Parametri webhook predefiniti Data Infrastructure Insights"]



=== Parametri: cosa sono e come si usano?

I parametri di avviso sono valori dinamici popolati per avviso.  Ad esempio, il parametro _%%TriggeredOn%%_ verrà sostituito con l'oggetto su cui è stato attivato l'avviso.

È possibile aggiungere qualsiasi attributo dell'oggetto (ad esempio, il nome dell'archivio) come parametro a un webhook.  Ad esempio, è possibile impostare parametri per il nome del volume e il nome dell'archiviazione in una descrizione webhook come: "Latenza elevata per volume: _%%relatedObject.volume.name%%_, Archiviazione: _%%relatedObject.storage.name%%_".

Si noti che in questa sezione le sostituzioni _non_ vengono eseguite quando si fa clic sul pulsante "Test Webhook"; il pulsante invia un payload che mostra le _%%_ sostituzioni ma non le sostituisce con i dati.



=== Parametri e segreti personalizzati

In questa sezione puoi aggiungere tutti i parametri personalizzati e/o segreti che desideri.  Per motivi di sicurezza, se viene definito un segreto, solo il creatore del webhook può modificare questo canale webhook.  Per gli altri è di sola lettura.  È possibile utilizzare i segreti negli URL/intestazioni come _%%<secret_name>%%_.



=== Pagina elenco webhook

Nella pagina dell'elenco dei webhook vengono visualizzati i campi Nome, Creato da, Creato il, Stato, Sicuro e Ultimo segnalato.



== Scelta della notifica webhook in un monitor

Per scegliere la notifica webhook in unlink:task_create_monitor.html["monitorare"] , vai su *Avvisi > Gestisci monitor* e seleziona il monitor desiderato oppure aggiungine uno nuovo.  Nella sezione _Imposta notifiche team_, seleziona _Webhook_ come metodo di consegna.  Selezionare i livelli di allerta (Critico, Avviso, Risolto), quindi scegliere il webhook desiderato.

image:Webhook_Monitor_Notify.png["Notifica del monitoraggio webhook"]



== Esempi di webhook:

Webhook perlink:task_webhook_example_slack.html["Slack"] Webhook perlink:task_webhook_example_pagerduty.html["PagerDuty"] Webhook perlink:task_webhook_example_teams.html["Squadre"] Webhook perlink:task_webhook_example_discord.html["Discordia"]
