---
sidebar: sidebar 
permalink: task_dc_emc_vmax_powermax.html 
keywords: data collector, EMC, DELL, vmax, powermax 
summary: Configurazione del raccoglitore dati della famiglia di dispositivi Dell EMC VMAX e PowerMax. 
---
= Raccoglitore dati della famiglia di dispositivi Dell EMC VMAX e PowerMax
:hardbreaks:
:allow-uri-read: 


[role="lead"]
Data Infrastructure Insights rileva gli array di storage EMC VMAX e PowerMax utilizzando i comandi symcli di Solutions Enabler insieme a un server Solutions Enabler esistente nel tuo ambiente.  Il server Solutions Enabler esistente è dotato di connettività con l'array di storage VMAX/PowerMax tramite l'accesso ai volumi gatekeeper.



== Requisiti

Prima di configurare questo raccoglitore dati, è necessario assicurarsi che Data Infrastructure Insights disponga di connettività TCP sulla porta 2707 sul server Solutions Enabler esistente.  Data Infrastructure Insights rileva tutti gli array Symmetrix che sono "locali" per questo server, come mostrato nell'output "symcfg list" da quel server.

* L'applicazione provider EMC Solutions Enabler (CLI) con SMI-S deve essere installata sul server Acquisition Unit e la versione deve corrispondere o essere precedente alla versione in esecuzione sul server Solutions Enabler.
* È necessario un file {installdir}\EMC\SYMAPI\config\netcnfg configurato correttamente.  Questo file definisce i nomi dei servizi per i server Solutions Enabler, nonché il metodo di accesso (SECURE / NOSECURE /ANY).
* Se è necessaria una latenza di lettura/scrittura a livello di nodo di archiviazione, il provider SMI-S deve comunicare con un'istanza in esecuzione dell'applicazione UNISPHERE for VMAX.
* Indirizzo IP del server Solutions Enabler di gestione
* Autorizzazioni di amministratore sul server Solutions Enabler (SE)
* Nome utente e password di sola lettura per il software SE
* L'applicazione UNISPHERE per VMAX deve essere in esecuzione e raccogliere statistiche per gli array di storage EMC VMAX e PowerMax gestiti dall'installazione del provider SMI-S
* Convalida dell'accesso per le prestazioni: in un browser Web sulla tua unità di acquisizione, vai a _\https://<Nome host o IP SMI-S>:5989/ecomconfig_ dove "Nome host o IP SMI-S" è l'indirizzo IP o il nome host del tuo server SMI-S.  Questo URL è per un portale amministrativo per il servizio EMC SMI-S (noto anche come "ECOM"): riceverai una finestra popup di accesso.
* Le autorizzazioni devono essere dichiarate nel file di configurazione del daemon del server Solutions Enabler, solitamente reperibile qui: _/var/symapi/config/daemon_users_
+
Ecco un file di esempio con le autorizzazioni cisys appropriate.

+
....
root@cernciaukc101:/root
14:11:25 # tail /var/symapi/config/daemon_users
###
###     Refer to the storrdfd(3) man page for additional details.
###
###     As noted above, only authorized users can perform stordaemon control
###     operations (e.g., shutdown).
################################################################################
# smith         storrdfd
cisys storapid <all>
....




== Terminologia

Data Infrastructure Insights acquisisce le seguenti informazioni di inventario dalla fonte dati EMC VMAX/PowerMax.  Per ogni tipologia di asset acquisito viene mostrata la terminologia più comune utilizzata per tale asset.  Quando si visualizza o si risolve un problema con questo strumento di raccolta dati, tenere presente la seguente terminologia:

[cols="2*"]
|===
| Termine del fornitore/modello | Termine Data Infrastructure Insights 


| Disco | Disco 


| Gruppo di dischi | Gruppo di dischi 


| Magazzinaggio | Archiviazione array 


| Direttore | Nodo di archiviazione 


| Pool di dispositivi, pool di risorse di archiviazione (SRP) | Pool di archiviazione 


| Dispositivo TDev | Volume 
|===
Nota: queste sono solo mappature terminologiche comuni e potrebbero non rappresentare tutti i casi per questo raccoglitore di dati.



== Configurazione

*Nota:* se l'autenticazione utente SMI-S non è abilitata, i valori predefiniti nel raccoglitore Data Infrastructure Insights vengono ignorati.

[cols="2*"]
|===
| Campo | Descrizione 


| Nome del servizio | Nome del servizio come specificato nel file _netcnfg_ 


| Percorso completo alla CLI | Percorso completo della cartella contenente Symmetrix CLI 


| Indirizzo IP host SMI-S | Indirizzo IP dell'host SMI-S 
|===


== Configurazione avanzata

[cols="2*"]
|===
| Campo | Descrizione 


| Intervallo di sondaggio dell'inventario (min) | Intervallo tra i sondaggi di inventario. Il valore predefinito è 40 minuti. 


| Selezionare "Escludi" o "Includi" per specificare un elenco | Specificare se includere o escludere l'elenco di array sottostante durante la raccolta dei dati. 


| Elenco dispositivi filtro inventario | Elenco separato da virgole di ID dispositivo da includere o escludere 


| Caching delle connessioni | Selezionare il metodo di memorizzazione nella cache della connessione: * LOCALE significa che il servizio Cloud Insights Acquisition è in esecuzione sul server Solutions Enabler, che dispone di connettività Fibre Channel con gli array Symmetrix che si desidera individuare e ha accesso ai volumi gatekeeper.  Ciò potrebbe verificarsi in alcune configurazioni di unità di acquisizione remota (RAU).  * REMOTE_CACHED è l'impostazione predefinita e dovrebbe essere utilizzata nella maggior parte dei casi.  In questo modo vengono utilizzate le impostazioni del file NETCNFG per connettersi tramite IP al server Solutions Enabler, che deve disporre di connettività Fibre Channel con gli array Symmetrix che si desidera rilevare e avere accesso ai volumi Gatekeeper.  * Nel caso in cui le opzioni REMOTE_CACHED facciano fallire i comandi CLI, utilizzare l'opzione REMOTE.  Tieni presente che ciò rallenterà il processo di acquisizione (potenzialmente di ore o addirittura giorni nei casi estremi).  Le impostazioni del file NETCNFG vengono ancora utilizzate per una connessione IP al server Solutions Enabler dotato di connettività Fibre Channel con gli array Symmetrix rilevati.  *Nota:* questa impostazione non modifica il comportamento Data Infrastructure Insights rispetto agli array elencati come REMOTE dall'output "symcfg list".  Data Infrastructure Insights raccoglie dati solo sui dispositivi indicati come LOCALI da questo comando. 


| Protocollo SMI-S | Protocollo utilizzato per connettersi al provider SMI-S.  Visualizza anche la porta predefinita utilizzata. 


| Sostituisci SMIS-Port | Se vuoto, utilizzare la porta predefinita nel campo Tipo di connessione, altrimenti immettere la porta di connessione da utilizzare 


| Nome utente SMI-S | Nome utente per l'host del provider SMI-S 


| Password SMI-S | Nome utente per l'host del provider SMI-S 


| Intervallo di polling delle prestazioni (sec) | Intervallo tra i sondaggi sulle prestazioni (predefinito 1000 secondi) 


| Scegli "Escludi" o "Includi" per specificare un elenco | Specificare se includere o escludere l'elenco di array sottostante durante la raccolta dei dati sulle prestazioni 


| Elenco dispositivi filtro prestazioni | Elenco separato da virgole di ID dispositivo da includere o escludere 
|===


== Risoluzione dei problemi

Ecco alcune cose da provare se riscontri problemi con questo strumento di raccolta dati:

[cols="2*"]
|===
| Problema: | Prova questo: 


| Errore: la funzionalità richiesta non è attualmente concessa in licenza | Installare la licenza del server SYMAPI. 


| Errore: nessun dispositivo trovato | Assicurarsi che i dispositivi Symmetrix siano configurati per essere gestiti dal server Solutions Enabler: - Eseguire symcfg list -v per visualizzare l'elenco dei dispositivi Symmetrix configurati. 


| Errore: il servizio di rete richiesto non è stato trovato nel file di servizio | Assicurarsi che il nome del servizio Solutions Enabler sia definito nel file netcnfg per Solutions Enabler.  Questo file si trova solitamente in SYMAPI\config\ nell'installazione del client Solutions Enabler. 


| Errore: l'handshake client/server remoto non è riuscito | Controllare i file storsrvd.log* più recenti sull'host Solutions Enabler che stiamo cercando di individuare. 


| Errore: nome comune nel certificato client non valido | Modificare il file _hosts_ sul server Solutions Enabler in modo che il nome host dell'unità di acquisizione venga risolto nell'indirizzo IP riportato nel file storsrvd.log sul server Solutions Enabler. 


| Errore: la funzione non è riuscita a ottenere memoria | Assicurarsi che ci sia abbastanza memoria libera disponibile nel sistema per eseguire Solutions Enabler 


| Errore: Solutions Enabler non è riuscito a fornire tutti i dati richiesti. | Esaminare lo stato di salute e il profilo di carico di Solutions Enabler 


| Errore: • Il comando CLI "symcfg list -tdev" potrebbe restituire dati non corretti quando raccolti con Solutions Enabler 7.x da un server Solutions Enabler 8.x.  • Il comando CLI "symcfg list -srp" potrebbe restituire dati non corretti se raccolti con Solutions Enabler 8.1.0 o versioni precedenti da un server Solutions Enabler 8.3 o versioni successive. | Assicurati di utilizzare la stessa versione principale di Solutions Enabler 


| Vedo errori di raccolta dati con il messaggio: "codice sconosciuto" | Questo messaggio potrebbe essere visualizzato se le autorizzazioni non sono dichiarate nel file di configurazione del daemon del server Solutions Enabler (vedere<<requisiti,Requisiti>> Sopra.)  Ciò presuppone che la versione del client SE corrisponda alla versione del server SE.  Questo errore può verificarsi anche se l'utente _cisys_ (che esegue i comandi Solutions Enabler) non è stato configurato con le autorizzazioni daemon necessarie nel file di configurazione /var/symapi/config/daemon_users.  Per risolvere questo problema, modifica il file /var/symapi/config/daemon_users e assicurati che l'utente cisys abbia specificato l'autorizzazione <all> per il demone storapid.  Esempio: 14:11:25 # tail /var/symapi/config/daemon_users ... cisys storapid <all> 
|===
Ulteriori informazioni possono essere trovate pressolink:concept_requesting_support.html["Supporto"] pagina o nellalink:reference_data_collector_support_matrix.html["Matrice di supporto del raccoglitore dati"] .
