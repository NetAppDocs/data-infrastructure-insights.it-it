---
sidebar: sidebar 
permalink: task_annotation_import.html 
keywords: annotations, import, api 
summary: 'È possibile importare annotazioni e applicazioni utilizzando l"API Data Infrastructure Insights .' 
---
= Importazione di annotazioni
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Data Infrastructure Insights include un'API per importare annotazioni o applicazioni da un file CSV e assegnarle agli oggetti specificati.


NOTE: L'API Data Infrastructure Insights è disponibile nella * Data Infrastructure Insights Premium Edition*.



== Importazione

I link *Amministrazione > Accesso API* contengonolink:API_Overview.html["documentazione"] per l'API *Risorse/Importazione*.  Questa documentazione contiene informazioni sul formato file .CSV.

image:api_assets_import.png["API di importazione"]



== Formato file .CSV

Il formato generale del file CSV è il seguente.  La prima riga del file definisce i campi di importazione e specifica l'ordine dei campi.  Seguono righe separate per ogni annotazione o applicazione.  Non è necessario definire ogni campo.  Tuttavia, le righe di annotazione successive devono seguire lo stesso ordine della riga di definizione.

 [Object Type] , [Object Name or ID] , Annotation Type [, Annotation Type,  ...] [, Application] [, Tenant] [, Line_Of_Business] [, Business_Unit] [, Project]
Per esempi di file .CSV, consultare la documentazione API.

È possibile importare e assegnare annotazioni da un file .CSV direttamente dall'API Swagger.  Basta scegliere il file da utilizzare e cliccare sul pulsante _Esegui_:

image:api_assets_import_assign.png["Importa e assegna"]



== Comportamento di importazione

Durante l'operazione di importazione, i dati vengono aggiunti, uniti o sostituiti, a seconda degli oggetti e dei tipi di oggetti che vengono importati.  Durante l'importazione, tenere presente i seguenti comportamenti.

* Aggiunge un'annotazione o un'applicazione se non ne esiste nessuna con lo stesso nome nel sistema di destinazione.
* Unisce un'annotazione se il tipo di annotazione è un elenco e nel sistema di destinazione esiste un'annotazione con lo stesso nome.
* Sostituisce un'annotazione se il tipo di annotazione è diverso da un elenco e nel sistema di destinazione esiste un'annotazione con lo stesso nome.
+
Nota: se nel sistema di destinazione esiste un'annotazione con lo stesso nome ma con un tipo diverso, l'importazione fallisce.  Se gli oggetti dipendono dall'annotazione non riuscita, tali oggetti potrebbero mostrare informazioni errate o indesiderate.  Dopo aver completato l'operazione di importazione, è necessario controllare tutte le dipendenze delle annotazioni.

* Se un valore di annotazione è vuoto, l'annotazione viene rimossa dall'oggetto.  Le annotazioni ereditate non sono interessate.
* I valori di annotazione del tipo data devono essere passati come tempo Unix in millisecondi.
* Quando si annotano volumi o volumi interni, il nome dell'oggetto è una combinazione del nome di archiviazione e del nome del volume utilizzando il separatore "\->".  Ad esempio: _<Nome archivio>\-><Nome volume>_
* Se il nome di un oggetto contiene una virgola, l'intero nome deve essere racchiuso tra virgolette doppie.  Ad esempio: _"NetApp1,NetApp2"\->023F_
* Quando si associano annotazioni a storage, switch e porte, la colonna "Applicazione" verrà ignorata.
* Tenant, Line_Of_Business, Business_Unit e/o Project costituiscono un'entità aziendale.  Come per tutte le entità aziendali, qualsiasi valore può essere vuoto.


È possibile annotare i seguenti tipi di oggetti.

|===


| TIPO DI OGGETTO | NOME O CHIAVE 


| Ospite | id\-><id> o <Nome> o <IP> 


| Macchina virtuale | id\-><id> o <Nome> 


| StoragePool | id\-><id> o <Nome archivio>\-><Nome pool di archiviazione> 


| Volume interno | id\-><id> o <Nome archivio>\-><Nome volume interno> 


| Volume | id\-><id> o <Nome archivio>\-><Nome volume> 


| Magazzinaggio | id\-><id> o <Nome> o <IP> 


| Interruttore | id\-><id> o <Nome> o <IP> 


| Porta | id\-><id> o <WWN> 


| Qtree | id\-><id> o <Nome archivio>\-><Nome volume interno>\-><Nome Qtree> 


| Condividere | id\-><id> o <Nome archivio>\-><Nome volume interno>\-><Nome condivisione>\-><Protocollo>[\-><Nome Qtree (facoltativo in caso di Qtree predefinito)>] 
|===